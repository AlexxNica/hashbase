<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Join - <%= appInfo.brandname %></title>
    <% include com/stdhead.html %>
  </head>
  <body>
    <% include com/nav.html %>
    
    <div class="container">
      <form class="form-register" action="/v1/register" method="POST">
        <h1 class="form-register-heading text-muted mb-4">Join <%= appInfo.brandname %></h1>
          <% if (errors.general) { %><div class="alert alert-warning" role="alert"><%= errors.general.message %></div><% } %>
        <div class="row pl-3">
          <div class="col-7 pt-4 pb-4 pl-4 pr-5 bg-faded rounded">
            <div class="form-group <%= !!errors.username ? 'has-warning' : '' %>">
              <label for="input-username">Username</label>
              <input type="text" name="username" class="form-control" id="input-username" value="<%= values.username %>">
              <% if (errors.username) {%><div class="form-control-feedback"><%= errors.username.msg %></div><% } %>
              <small id="emailHelp" class="form-text text-muted">Your profile will be at <%= appInfo.hostname %>/<span id="output-username">username</span>.</small>
            </div>
            <div class="form-group <%= !!errors.email ? 'has-warning' : '' %>">
              <label for="input-email">Email address</label>
              <input type="email" name="email" class="form-control" id="input-email" value="<%= values.email %>">
              <% if (errors.email) {%><div class="form-control-feedback"><%= errors.email.msg %></div><% } %>
              <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
            </div>
            <div class="form-group <%= !!errors.password ? 'has-warning' : '' %>">
              <label for="input-password">Password</label>
              <input type="password" name="password" class="form-control" id="input-password" value="<%= values.password %>">
              <% if (errors.password) { %><div class="form-control-feedback"><%= errors.password.msg %></div><% } %>
              <small id="emailHelp" class="form-text text-muted">Must be at least 6 characters long.</small>
            </div>
            <button class="btn btn-primary btn-block" type="submit">Create Your Account</button>
          </div>
          <div class="col-5">
            <div class="card" style="width: 250px">
              <% if (isOpen) { %>
                <div class="card-block">
                  <h5 class="card-title mb-3"><%= appInfo.brandname %> gives you</h5>
                  <p class="card-text"><strong>10 GB</strong> free hosting</p>
                  <p class="card-text"><strong>100 GB</strong> free bandwidth</p>
                </div>
              <% } else { %>
                <div class="card-block">
                  <p class="card-text"><strong>This is a closed server.</strong> You must be given access by the administrator to register.</p>                  
                </div>
              <% } %>
            </div>
            <div class="text-muted pt-5" style="font-weight: 100; font-size: 90%">
              <p>
                <%= appInfo.brandname %> is a host for P2P websites.
              </p>
              <p>
                Sites can be synced <a href="https://github.com/datproject/dat" target="_blank">from the command-line</a> or <a href="https://github.com/datproject/dat-desktop" target="_blank">desktop app</a>, or browsed using the <a href="https://beakerbrowser.com" target="_blank">Beaker Browser</a>.
              </p>
              <p>
                Confused? <a href="/v1/about">Learn more</a>.
              </p>
            </div>
          </div>
        </div>
      </form>
    </div>

    <% include com/footer.html %>
    <% include com/stdjs.html %>
    <script src="/assets/js/register.js"></script>
  </body>
</html>