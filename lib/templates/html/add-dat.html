<!DOCTYPE html>
<html lang="en">
  <head>
    <title>New Dat - <%= appInfo.brandname %></title>
    <% include com/stdhead.html %>
  </head>
  <body>
    <% include com/nav.html %>

    <div class="container py-4">
      <h4>Upload a new Dat</h4>
      <p class="text-muted">A dat contains all the files for your site.</p>

      <p class="text-muted text-center my-5 w-75 mx-auto" style="font-size: 90%">
        Sites can be created <a href="https://github.com/datproject/dat" target="_blank">from the command-line</a> or <a href="https://github.com/datproject/dat-desktop" target="_blank">desktop app</a>, or by using the <a href="https://beakerbrowser.com" target="_blank">Beaker Browser</a>.
        After creating the site, you will be given a URL.
        Enter that URL here.
      </p>

      <form id="add-dat-form" class="mt-5" action="/v1/dats/add" method="POST">
        <div class="form-group <%= !!errors.key ? 'has-warning' : '' %>">
          <input type="text" class="form-control" id="add-dat-key-input" placeholder="Enter the URL of the Dat you want to host on <%= appInfo.brandname %>" name="key" value="<%= values.key %>">
          <% if(!!errors.key) { %><div class="form-control-feedback"><%= errors.key.msg %></div><% } %>
        </div>
        <div class="form-group <%= !!errors.name ? 'has-warning' : '' %>">
          <input type="text" class="form-control" id="add-dat-name-input" placeholder="Name" name="name" value="<%= values.name %>">
          <% if(!!errors.name) { %><div class="form-control-feedback"><%= errors.name.msg %></div><% } %>
          <small id="emailHelp" class="form-text text-muted">The dat will be at <%= appInfo.hostname %>/<%= userRecord.username %>/<span id="add-dat-name-output">datname</span>.</small>
        </div>
        <button id="add-dat-submit-btn" type="submit" class="btn btn-primary" disabled>Add Dat</button>
      </form>
    </div>

    <% include com/footer.html %>
    <% include com/stdjs.html %>
    <script src="/assets/js/add-dat.js"></script>
  </body>
</html>